{"version":3,"file":"static/js/862.39a7fbe7.chunk.js","mappings":"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","sources":["hooks/useCurrentEntity.ts","views/DestinationView/components/DestinationViewer/DestinationViewer.tsx","views/DestinationView/DestinationView.tsx"],"sourcesContent":["import {AppData, useAppData} from 'contexts';\nimport {Destination, Crew, Technology} from 'models';\nimport {useLocation} from 'react-router-dom';\n\nexport default function useCurrentEntity(): Destination | Crew | Technology {\n  const data: AppData = useAppData();\n  const {pathname} = useLocation();\n  const [root, resource, key]: string[] = pathname.split('/');\n  return data[resource].find((entity: Destination | Crew | Technology) => entity.slug === key);\n}\n","import React, {memo, Suspense, useRef, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport {useGLTF} from '@react-three/drei';\nimport {Canvas, useFrame, useThree} from '@react-three/fiber';\nimport {useSpring, animated, easings} from '@react-spring/three';\nimport endpoints from 'api/endpoints';\nimport {Vector3, PerspectiveCamera, Box3} from 'three';\nimport {CameraControls, frameArea} from 'utils';\nimport styled from 'styled-components';\nimport {Group} from 'three';\nimport {GLTF} from 'three-stdlib';\n\ntype ModelProps = {\n  url: string;\n};\n\ntype GLTFResult = GLTF & {\n  nodes: {\n    object: THREE.Mesh;\n  };\n  materials: {\n    ['default']: THREE.MeshStandardMaterial;\n  };\n};\n\nconst CanvasWrapper = styled.div`\n  height: 27rem;\n  width: 27rem;\n  cursor: ${({mouseDown}: {mouseDown: boolean}) => (mouseDown ? 'grabbing' : 'grab')};\n`;\n\nfunction useGLTFWithMeasures(url: string) {\n  const {nodes, materials} = useGLTF(url) as GLTFResult;\n\n  const box = new Box3().setFromObject(nodes.object);\n  const boxSize = box.getSize(new Vector3()).length();\n  const boxCenter = box.getCenter(new Vector3());\n\n  return {nodes, materials, boxSize, boxCenter};\n}\n\nfunction Model({url, ...rest}: ModelProps & JSX.IntrinsicElements['group']) {\n  const group = useRef<Group>(null!);\n\n  const {nodes, materials, boxSize, boxCenter} = useGLTFWithMeasures(url);\n\n  const {camera}: {camera: PerspectiveCamera} = useThree();\n\n  frameArea(boxSize * 1.2, boxSize, boxCenter, camera);\n\n  const {scale} = useSpring({\n    to: {\n      scale: 2,\n    },\n    from: {\n      scale: 0,\n    },\n    reset: true,\n    config: {\n      duration: 500,\n      easing: easings.easeInOutQuart,\n    },\n  });\n\n  const rotationSpeed = 0.0007;\n\n  useFrame(() => {\n    group.current.rotation.y += rotationSpeed;\n  });\n\n  return (\n    <group ref={group} dispose={null} {...rest}>\n      <animated.mesh\n        geometry={nodes.object.geometry}\n        material={materials['default']}\n        scale={scale}\n      />\n    </group>\n  );\n}\n\nconst OptimizedModel = memo(Model);\n\ntype DestinationViewerProps = {\n  className?: string;\n  model: string;\n};\n\nexport default function DestinationViewer({className, model}: DestinationViewerProps) {\n  const [mouseDown, setMouseDown] = useState(false);\n\n  const modelUrl = endpoints.models + model;\n\n  return (\n    <CanvasWrapper\n      className={className}\n      onMouseDown={() => setMouseDown(true)}\n      onMouseUp={() => setMouseDown(false)}\n      mouseDown={mouseDown}\n    >\n      <Canvas camera={{fov: 15}}>\n        <CameraControls enableZoom={false} enableDamping={true} enablePan={false} />\n        <directionalLight position={[-5, 5, 5]} color=\"white\" />\n        <hemisphereLight groundColor={0xffffff} intensity={0.2} />\n        <Suspense fallback={null}>\n          <OptimizedModel url={modelUrl} />\n        </Suspense>\n      </Canvas>\n    </CanvasWrapper>\n  );\n}\n\nDestinationViewer.propTypes = {\n  className: PropTypes.string,\n  model: PropTypes.string.isRequired,\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport {motion, Variants} from 'framer-motion';\nimport {mediaQuery} from 'theme';\nimport {DestinationViewer} from './components';\nimport useCurrentEntity from 'hooks/useCurrentEntity';\nimport {Page} from 'components';\n\nconst StyledViewer = styled(DestinationViewer)`\n  grid-area: viewer;\n  align-self: start;\n\n  ${({theme}) =>\n    mediaQuery(\n      theme.breakPoints.mobileDown,\n      `\n      width: 90%;\n      height:90%;\n     `,\n    )}\n`;\n\nconst StyledArticle = styled.article`\n  ${({theme}) => theme.utils.general.flow()}\n  grid-area: content;\n`;\n\nconst StyledTitle = styled.h2`\n  ${({theme}) =>\n    `\n  ${theme.utils.typography.size[800]}\n  ${theme.utils.typography.uppercase}\n  ${theme.utils.typography.family.serif}\n `}\n`;\n\nconst StyledMeta = styled.div`\n  ${({theme}) => theme.utils.general.flex()}\n  flex-direction: column;\n  border-top: 1px solid hsl(${({theme}) => theme.colors.white} / 0.1);\n  padding-top: 2.5rem;\n  margin-top: 2.5rem;\n\n  ${({theme}) =>\n    mediaQuery(\n      theme.breakPoints.tabletUp,\n      `\n      flex-direction: row;\n      justify-content: space-evenly;\n     `,\n    )}\n  ${({theme}) =>\n    mediaQuery(\n      theme.breakPoints.desktopUp,\n      `\n      ${theme.utils.general.flex('min(6vw, 6rem)')}\n      justify-content: start;\n     `,\n    )}\n`;\n\nconst StyledParagraph = styled.p`\n  font-size: 1.75rem;\n  ${({theme}) =>\n    `\n    ${theme.utils.typography.family.serif}\n    ${theme.utils.typography.uppercase}\n\n  `}\n`;\n\nconst StyledLabel = styled.h3`\n  ${({theme}) =>\n    `\n    ${theme.utils.typography.color.accent}\n    ${theme.utils.typography.size[200]}\n    ${theme.utils.typography.uppercase}\n\n  `}\n`;\n\nconst variants: Variants = {\n  hidden: {\n    y: -10,\n    opacity: 0,\n    transition: {\n      duration: 0.5,\n    },\n  },\n  visible: {\n    y: 0,\n    opacity: 1,\n    transition: {\n      duration: 0.5,\n    },\n  },\n};\n\nconst MotionArticle = motion(StyledArticle);\n\nexport default function DestinationView() {\n  const destination = useCurrentEntity();\n\n  return (\n    <Page title={destination.name}>\n      <StyledViewer model={destination.model} />\n\n      <MotionArticle\n        tabIndex={0}\n        role=\"tabpanel\"\n        initial=\"hidden\"\n        animate=\"visible\"\n        exit=\"hidden\"\n        variants={variants}\n        key={destination.name}\n      >\n        <StyledTitle>{destination.name}</StyledTitle>\n\n        <p>{destination.description}</p>\n        <StyledMeta>\n          <div>\n            <StyledLabel>Avg. distance</StyledLabel>\n            <StyledParagraph>{destination.distance}</StyledParagraph>\n          </div>\n          <div>\n            <StyledLabel>Est. travel time</StyledLabel>\n            <StyledParagraph>{destination.travel}</StyledParagraph>\n          </div>\n        </StyledMeta>\n      </MotionArticle>\n    </Page>\n  );\n}\n"],"names":["useCurrentEntity","data","useAppData","useLocation","pathname","split","resource","key","find","entity","slug","CanvasWrapper","styled","mouseDown","Model","url","rest","group","useRef","useGLTF","nodes","materials","box","Box3","setFromObject","object","boxSize","getSize","Vector3","length","boxCenter","getCenter","useGLTFWithMeasures","camera","useThree","frameArea","scale","useSpring","to","from","reset","config","duration","easing","easings","useFrame","current","rotation","y","ref","dispose","animated","geometry","material","OptimizedModel","memo","StyledViewer","className","model","useState","setMouseDown","modelUrl","endpoints","onMouseDown","onMouseUp","fov","enableZoom","enableDamping","enablePan","position","color","groundColor","intensity","Suspense","fallback","theme","mediaQuery","breakPoints","mobileDown","StyledArticle","utils","general","flow","StyledTitle","typography","size","uppercase","family","serif","StyledMeta","flex","colors","white","tabletUp","desktopUp","StyledParagraph","StyledLabel","accent","variants","hidden","opacity","transition","visible","MotionArticle","motion","DestinationView","destination","title","name","tabIndex","role","initial","animate","exit","description","distance","travel"],"sourceRoot":""}